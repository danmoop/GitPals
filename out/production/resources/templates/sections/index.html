<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Gitpals - find team for cooperative development</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/flat-ui.css" />
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>
    <nav class="navbar navbar-inverse navbar-lg navigation" role="navigation">
        <div>
            <a href="/about" class="btn btn-info margin-btn"><b>About</b></a>
            <a href="/login" th:if="${GithubUserName == null}"><button class="btn btn-primary margin-btn"><b>Login using Github</b></button></a>
            <a href="/dashboard" th:if="${GithubUserName != null}"><button class="btn btn-primary margin-btn"><b>My dashboard</b></button></a>
            <a href="/logout" th:if="${GithubUserName != null}"><button class="btn btn-danger margin-btn"><b>Log Out</b></button></a>
            <!--<button class="btn btn-primary margin-btn"><b>Donate</b></button> NOT YET FOR THIS ONE-->
        </div>
        <div class="center">
            <h6 class="wh" th:if="${GithubUserName == null}"><b>Hello, Guest</b></h6>
            <div class="row">
                <h6 class="wh" th:if="${GithubUserName != null}" th:inline="text">Hello, <b><a class="wh" target="_blank" th:href="${'https://github.com/' + GithubUserName}">[[${GithubUserName}]]</a></b> <img style="margin-left: 10px;" th:src="${GithubUser.userAuthentication.details.avatar_url}" width="64" height="64"/></h6>
                <a href="/messages" class="wh b" th:if="${GithubUserName != null}" style="transform: translate(20%, 15%); font-size: 20px;" th:inline="text">Messages: [[${#lists.size(userDB.messages)}]]</a>
            </div>
        </div>
    </nav>

    <section class="center-content text-center">
        <a href="/"><h1 class="wh"><img width="150" height="150" src="images/github.png"/>GitPals</h1></a>
        <div class="container">
            <h3 class="wh">Find a team for development and become a better developer while contributing and working together!</h3>
            <h6 class="wh b">Choose any project your requirements match and start your path in cooperative development</h6>
            <hr class="divider"/>
            <h6 class="wh b" th:inline="text">Total projects for apply: [[${#lists.size(allTheProjects)}]]</h6>

        </div>

        <ul class="pr-list text-center">
            <a th:each="project: ${allTheProjects}" th:href="${'/projects/' + project.title}">
                <li class="pr-item">
                    <header><h6 class="wh pr-title"><b th:inline="text">[[${project.title}]]</b></h6></header>
                    <a class="b" th:href="${'/users/' + project.author.username}" target="_blank" th:inline="text">[[${project.author.username}]]</a>
                    <p class="wh" th:inline="text" style="margin: 10px;"><b>[[${project.requirements}]]</b></p>
                </li>
            </a>

            <h6 class="wh" th:if="${#lists.size(allTheProjects) == 0}" style="margin-right: 2.5%;"> No projects published yet</h6>
        </ul>

    </section>

</body>
</html>